using AgentieDeTurismWeb.Models;
using AgentieDeTurismWeb.Models.BookingAPI;
using AgentieDeTurismWeb.Models.SkyScannerAPI;
using AgentieDeTurismWeb.Services;
using Microsoft.AspNetCore.Mvc;
using System.Diagnostics;
using System.Text.Json;

namespace AgentieDeTurismWeb.Controllers
{
    public class HomeController : Controller
    {
        private readonly ILogger<HomeController> _logger;
        private readonly IWebHostEnvironment _webHostEnvironment;

        private readonly FlightService _flightService;
        private readonly HotelService _hotelService;
        public HomeController(ILogger<HomeController> logger, IWebHostEnvironment webHostEnvironment,
            FlightService flightService, HotelService hotelService)
        {
            _logger = logger;
            _webHostEnvironment = webHostEnvironment;
            _flightService = flightService;
            _hotelService=hotelService;
        }

        public IActionResult Index()
        {
            return View();
        }

        public IActionResult Privacy()
        {
            return View();
        }

        public IActionResult Contact()
        {
            return View();
        }

        [ResponseCache(Duration = 0, Location = ResponseCacheLocation.None, NoStore = true)]
        public IActionResult Error()
        {
            return View(new ErrorViewModel { RequestId = Activity.Current?.Id ?? HttpContext.TraceIdentifier });
        }

        public IActionResult checkBookingOptions(DateTime dateStart, DateTime dateEnd, int noAdults, int noChildren)
        {
            List<Result> results = _hotelService.GetAllHotels(dateStart, dateEnd, noAdults, noChildren);

            string photoList = "\r\n{\"data\":{\"5506520\":[[1,[],317366362,[{\"id\":103,\"tag\":\"Garden\"},{\"id\":1000000001,\"tag\":\"Property\"}],\"/xdata/images/hotel/max1024x768/317366362.jpg?k=0ee43e109387aefa89ec02bb1914d64651cdaf1221804595b3cb41db51b5a0b1&o=\",\"/xdata/images/hotel/max300/317366362.jpg?k=0ee43e109387aefa89ec02bb1914d64651cdaf1221804595b3cb41db51b5a0b1&o=\",\"/xdata/images/hotel/max500/317366362.jpg?k=0ee43e109387aefa89ec02bb1914d64651cdaf1221804595b3cb41db51b5a0b1&o=\",\"/xdata/images/hotel/square60/317366362.jpg?k=0ee43e109387aefa89ec02bb1914d64651cdaf1221804595b3cb41db51b5a0b1&o=\"],[1,[{\"photo_id\":378482956,\"tag_type\":\"ml_tags\",\"tag_id\":20,\"confidence\":97,\"tag_name\":\"Swimming Pool\"},{\"confidence\":93,\"photo_id\":378482956,\"tag_type\":\"ml_tags\",\"tag_id\":33,\"tag_name\":\"Pool View\"}],378482956,[],\"/xdata/images/hotel/max1024x768/378482956.jpg?k=bd7b5988d989fda3c9b0795da3f61829dad9aef74cb4429cf61d69633a9091ad&o=\",\"/xdata/images/hotel/max300/378482956.jpg?k=bd7b5988d989fda3c9b0795da3f61829dad9aef74cb4429cf61d69633a9091ad&o=\",\"/xdata/images/hotel/max500/378482956.jpg?k=bd7b5988d989fda3c9b0795da3f61829dad9aef74cb4429cf61d69633a9091ad&o=\",\"/xdata/images/hotel/square60/378482956.jpg?k=bd7b5988d989fda3c9b0795da3f61829dad9aef74cb4429cf61d69633a9091ad&o=\"],[1,[{\"tag_name\":\"Balcony/Terrace\",\"confidence\":93,\"photo_id\":378483272,\"tag_type\":\"ml_tags\",\"tag_id\":17}],378483272,[],\"/xdata/images/hotel/max1024x768/378483272.jpg?k=ac54f2b96cceb048b1b7b46cd267e32c33dc11993cf9413863b5224807d32f71&o=\",\"/xdata/images/hotel/max300/378483272.jpg?k=ac54f2b96cceb048b1b7b46cd267e32c33dc11993cf9413863b5224807d32f71&o=\",\"/xdata/images/hotel/max500/378483272.jpg?k=ac54f2b96cceb048b1b7b46cd267e32c33dc11993cf9413863b5224807d32f71&o=\",\"/xdata/images/hotel/square60/378483272.jpg?k=ac54f2b96cceb048b1b7b46cd267e32c33dc11993cf9413863b5224807d32f71&o=\"],[1,[{\"tag_name\":\"Bed\",\"tag_id\":13,\"photo_id\":378483167,\"tag_type\":\"ml_tags\",\"confidence\":98}],378483167,[],\"/xdata/images/hotel/max1024x768/378483167.jpg?k=b8ec03ef077759c9b6985b8a46ec1626c99e4a7c689a96b40283f4246c8946a5&o=\",\"/xdata/images/hotel/max300/378483167.jpg?k=b8ec03ef077759c9b6985b8a46ec1626c99e4a7c689a96b40283f4246c8946a5&o=\",\"/xdata/images/hotel/max500/378483167.jpg?k=b8ec03ef077759c9b6985b8a46ec1626c99e4a7c689a96b40283f4246c8946a5&o=\",\"/xdata/images/hotel/square60/378483167.jpg?k=b8ec03ef077759c9b6985b8a46ec1626c99e4a7c689a96b40283f4246c8946a5&o=\"],[1,[{\"confidence\":90,\"photo_id\":378483120,\"tag_type\":\"ml_tags\",\"tag_id\":20,\"tag_name\":\"Swimming Pool\"}],378483120,[],\"/xdata/images/hotel/max1024x768/378483120.jpg?k=2cceb09e722c9bf97fdf8e2547e495410767ce4abe863ef67edec828f1e63384&o=\",\"/xdata/images/hotel/max300/378483120.jpg?k=2cceb09e722c9bf97fdf8e2547e495410767ce4abe863ef67edec828f1e63384&o=\",\"/xdata/images/hotel/max500/378483120.jpg?k=2cceb09e722c9bf97fdf8e2547e495410767ce4abe863ef67edec828f1e63384&o=\",\"/xdata/images/hotel/square60/378483120.jpg?k=2cceb09e722c9bf97fdf8e2547e495410767ce4abe863ef67edec828f1e63384&o=\"],[1,[{\"tag_name\":\"Bathroom\",\"tag_id\":11,\"tag_type\":\"ml_tags\",\"photo_id\":378483084,\"confidence\":99}],378483084,[],\"/xdata/images/hotel/max1024x768/378483084.jpg?k=b37f315bfda347fc60be05a8d56c821c9a3ad9f7b931d461b6ef115f956baf12&o=\",\"/xdata/images/hotel/max300/378483084.jpg?k=b37f315bfda347fc60be05a8d56c821c9a3ad9f7b931d461b6ef115f956baf12&o=\",\"/xdata/images/hotel/max500/378483084.jpg?k=b37f315bfda347fc60be05a8d56c821c9a3ad9f7b931d461b6ef115f956baf12&o=\",\"/xdata/images/hotel/square60/378483084.jpg?k=b37f315bfda347fc60be05a8d56c821c9a3ad9f7b931d461b6ef115f956baf12&o=\"],[1,[{\"confidence\":87,\"tag_id\":19,\"tag_type\":\"ml_tags\",\"photo_id\":378483049,\"tag_name\":\"Property Building\"}],378483049,[],\"/xdata/images/hotel/max1024x768/378483049.jpg?k=5f87b862911bd3e622c0124817ada9f782c2ed348d26e78f28940d743af97401&o=\",\"/xdata/images/hotel/max300/378483049.jpg?k=5f87b862911bd3e622c0124817ada9f782c2ed348d26e78f28940d743af97401&o=\",\"/xdata/images/hotel/max500/378483049.jpg?k=5f87b862911bd3e622c0124817ada9f782c2ed348d26e78f28940d743af97401&o=\",\"/xdata/images/hotel/square60/378483049.jpg?k=5f87b862911bd3e622c0124817ada9f782c2ed348d26e78f28940d743af97401&o=\"],[1,[{\"tag_name\":\"Bathroom\",\"photo_id\":215398610,\"tag_type\":\"ml_tags\",\"tag_id\":11,\"confidence\":98}],215398610,[{\"id\":153,\"tag\":\"Bathroom\"},{\"tag\":\"Property\",\"id\":1000000001}],\"/xdata/images/hotel/max1024x768/215398610.jpg?k=2757a3c737de76586e5f115b444f16cd5fd7cb91fcbca531fc255d71f776f52c&o=\",\"/xdata/images/hotel/max300/215398610.jpg?k=2757a3c737de76586e5f115b444f16cd5fd7cb91fcbca531fc255d71f776f52c&o=\",\"/xdata/images/hotel/max500/215398610.jpg?k=2757a3c737de76586e5f115b444f16cd5fd7cb91fcbca531fc255d71f776f52c&o=\",\"/xdata/images/hotel/square60/215398610.jpg?k=2757a3c737de76586e5f115b444f16cd5fd7cb91fcbca531fc255d71f776f52c&o=\"],[1,[{\"tag_name\":null,\"tag_id\":82,\"photo_id\":282810759,\"tag_type\":\"ml_tags\",\"confidence\":99}],282810759,[],\"/xdata/images/hotel/max1024x768/282810759.jpg?k=39178a734a47fc73a589325e2cb5e0faf9052489c7be4be9d53bcea324ef3e8b&o=\",\"/xdata/images/hotel/max300/282810759.jpg?k=39178a734a47fc73a589325e2cb5e0faf9052489c7be4be9d53bcea324ef3e8b&o=\",\"/xdata/images/hotel/max500/282810759.jpg?k=39178a734a47fc73a589325e2cb5e0faf9052489c7be4be9d53bcea324ef3e8b&o=\",\"/xdata/images/hotel/square60/282810759.jpg?k=39178a734a47fc73a589325e2cb5e0faf9052489c7be4be9d53bcea324ef3e8b&o=\"],[1,[],270972880,[],\"/xdata/images/hotel/max1024x768/270972880.jpg?k=4b10e8a6eab487dd9caf6ce038a079b58086104f5bacca0812c31c8ff08bb5f3&o=\",\"/xdata/images/hotel/max300/270972880.jpg?k=4b10e8a6eab487dd9caf6ce038a079b58086104f5bacca0812c31c8ff08bb5f3&o=\",\"/xdata/images/hotel/max500/270972880.jpg?k=4b10e8a6eab487dd9caf6ce038a079b58086104f5bacca0812c31c8ff08bb5f3&o=\",\"/xdata/images/hotel/square60/270972880.jpg?k=4b10e8a6eab487dd9caf6ce038a079b58086104f5bacca0812c31c8ff08bb5f3&o=\"],[1,[{\"tag_name\":\"Bed\",\"tag_id\":13,\"photo_id\":282810761,\"tag_type\":\"ml_tags\",\"confidence\":97}],282810761,[],\"/xdata/images/hotel/max1024x768/282810761.jpg?k=e65b238701a24c70d84b1ba439551a8297e4b527bcb08fdf0bd75211861271fb&o=\",\"/xdata/images/hotel/max300/282810761.jpg?k=e65b238701a24c70d84b1ba439551a8297e4b527bcb08fdf0bd75211861271fb&o=\",\"/xdata/images/hotel/max500/282810761.jpg?k=e65b238701a24c70d84b1ba439551a8297e4b527bcb08fdf0bd75211861271fb&o=\",\"/xdata/images/hotel/square60/282810761.jpg?k=e65b238701a24c70d84b1ba439551a8297e4b527bcb08fdf0bd75211861271fb&o=\"],[1,[],282810758,[],\"/xdata/images/hotel/max1024x768/282810758.jpg?k=5a8ad3563103627ca750bde4d6ea992eff5dae8bded49bd74c6a346c8c3857a5&o=\",\"/xdata/images/hotel/max300/282810758.jpg?k=5a8ad3563103627ca750bde4d6ea992eff5dae8bded49bd74c6a346c8c3857a5&o=\",\"/xdata/images/hotel/max500/282810758.jpg?k=5a8ad3563103627ca750bde4d6ea992eff5dae8bded49bd74c6a346c8c3857a5&o=\",\"/xdata/images/hotel/square60/282810758.jpg?k=5a8ad3563103627ca750bde4d6ea992eff5dae8bded49bd74c6a346c8c3857a5&o=\"],[1,[{\"photo_id\":282810762,\"tag_type\":\"ml_tags\",\"tag_id\":11,\"confidence\":100,\"tag_name\":\"Bathroom\"},{\"tag_id\":82,\"photo_id\":282810762,\"tag_type\":\"ml_tags\",\"confidence\":99,\"tag_name\":null}],282810762,[],\"/xdata/images/hotel/max1024x768/282810762.jpg?k=f6741c2a4d7046fa73b870441c5b476dc4c4a1254736327d6d50fc9fc95a306a&o=\",\"/xdata/images/hotel/max300/282810762.jpg?k=f6741c2a4d7046fa73b870441c5b476dc4c4a1254736327d6d50fc9fc95a306a&o=\",\"/xdata/images/hotel/max500/282810762.jpg?k=f6741c2a4d7046fa73b870441c5b476dc4c4a1254736327d6d50fc9fc95a306a&o=\",\"/xdata/images/hotel/square60/282810762.jpg?k=f6741c2a4d7046fa73b870441c5b476dc4c4a1254736327d6d50fc9fc95a306a&o=\"],[1,[],282810770,[],\"/xdata/images/hotel/max1024x768/282810770.jpg?k=ed394e26517ebe41992aef7065a608ff780c3712ebf399d2d1f0907e299abe21&o=\",\"/xdata/images/hotel/max300/282810770.jpg?k=ed394e26517ebe41992aef7065a608ff780c3712ebf399d2d1f0907e299abe21&o=\",\"/xdata/images/hotel/max500/282810770.jpg?k=ed394e26517ebe41992aef7065a608ff780c3712ebf399d2d1f0907e299abe21&o=\",\"/xdata/images/hotel/square60/282810770.jpg?k=ed394e26517ebe41992aef7065a608ff780c3712ebf399d2d1f0907e299abe21&o=\"],[1,[{\"tag_name\":\"Swimming Pool\",\"confidence\":97,\"photo_id\":282810757,\"tag_type\":\"ml_tags\",\"tag_id\":20}],282810757,[],\"/xdata/images/hotel/max1024x768/282810757.jpg?k=0cd85896371d8828c986f9003b69e406e9431c3a694c342d075680d9086a32b1&o=\",\"/xdata/images/hotel/max300/282810757.jpg?k=0cd85896371d8828c986f9003b69e406e9431c3a694c342d075680d9086a32b1&o=\",\"/xdata/images/hotel/max500/282810757.jpg?k=0cd85896371d8828c986f9003b69e406e9431c3a694c342d075680d9086a32b1&o=\",\"/xdata/images/hotel/square60/282810757.jpg?k=0cd85896371d8828c986f9003b69e406e9431c3a694c342d075680d9086a32b1&o=\"],[1,[{\"confidence\":90,\"tag_id\":19,\"photo_id\":215398693,\"tag_type\":\"ml_tags\",\"tag_name\":\"Property Building\"}],215398693,[],\"/xdata/images/hotel/max1024x768/215398693.jpg?k=37778c63c16b8b47ca5c72c793298c5b5fd3056ef3027d8dafea6baf4d49c7fd&o=\",\"/xdata/images/hotel/max300/215398693.jpg?k=37778c63c16b8b47ca5c72c793298c5b5fd3056ef3027d8dafea6baf4d49c7fd&o=\",\"/xdata/images/hotel/max500/215398693.jpg?k=37778c63c16b8b47ca5c72c793298c5b5fd3056ef3027d8dafea6baf4d49c7fd&o=\",\"/xdata/images/hotel/square60/215398693.jpg?k=37778c63c16b8b47ca5c72c793298c5b5fd3056ef3027d8dafea6baf4d49c7fd&o=\"],[1,[],252897740,[{\"id\":250,\"tag\":\"Lake view\"},{\"id\":1000000001,\"tag\":\"Property\"}],\"/xdata/images/hotel/max1024x768/252897740.jpg?k=73721b9068584ca38e5f24bc2c6538667a0a7afaea21a3ead5dad4a9d7004b1e&o=\",\"/xdata/images/hotel/max300/252897740.jpg?k=73721b9068584ca38e5f24bc2c6538667a0a7afaea21a3ead5dad4a9d7004b1e&o=\",\"/xdata/images/hotel/max500/252897740.jpg?k=73721b9068584ca38e5f24bc2c6538667a0a7afaea21a3ead5dad4a9d7004b1e&o=\",\"/xdata/images/hotel/square60/252897740.jpg?k=73721b9068584ca38e5f24bc2c6538667a0a7afaea21a3ead5dad4a9d7004b1e&o=\"],[1,[],215398664,[{\"tag\":\"Swimming pool\",\"id\":260},{\"id\":1000000001,\"tag\":\"Property\"}],\"/xdata/images/hotel/max1024x768/215398664.jpg?k=f5a1f4942330049c0e31f7bf08eee3499318ef33a89369ba1d70d937a5529060&o=\",\"/xdata/images/hotel/max300/215398664.jpg?k=f5a1f4942330049c0e31f7bf08eee3499318ef33a89369ba1d70d937a5529060&o=\",\"/xdata/images/hotel/max500/215398664.jpg?k=f5a1f4942330049c0e31f7bf08eee3499318ef33a89369ba1d70d937a5529060&o=\",\"/xdata/images/hotel/square60/215398664.jpg?k=f5a1f4942330049c0e31f7bf08eee3499318ef33a89369ba1d70d937a5529060&o=\"],[1,[],260622425,[],\"/xdata/images/hotel/max1024x768/260622425.jpg?k=8b2f7f6e0308373d6d1696e9aabd7542df1e97a2e5b57b471e32cc3944d33f54&o=\",\"/xdata/images/hotel/max300/260622425.jpg?k=8b2f7f6e0308373d6d1696e9aabd7542df1e97a2e5b57b471e32cc3944d33f54&o=\",\"/xdata/images/hotel/max500/260622425.jpg?k=8b2f7f6e0308373d6d1696e9aabd7542df1e97a2e5b57b471e32cc3944d33f54&o=\",\"/xdata/images/hotel/square60/260622425.jpg?k=8b2f7f6e0308373d6d1696e9aabd7542df1e97a2e5b57b471e32cc3944d33f54&o=\"],[1,[],252897388,[],\"/xdata/images/hotel/max1024x768/252897388.jpg?k=0450a0a1e0a7af1fa76cfd7a8863b2e7a4777490a1ef5c8769b2daa7f839bba8&o=\",\"/xdata/images/hotel/max300/252897388.jpg?k=0450a0a1e0a7af1fa76cfd7a8863b2e7a4777490a1ef5c8769b2daa7f839bba8&o=\",\"/xdata/images/hotel/max500/252897388.jpg?k=0450a0a1e0a7af1fa76cfd7a8863b2e7a4777490a1ef5c8769b2daa7f839bba8&o=\",\"/xdata/images/hotel/square60/252897388.jpg?k=0450a0a1e0a7af1fa76cfd7a8863b2e7a4777490a1ef5c8769b2daa7f839bba8&o=\"],[1,[],215396834,[],\"/xdata/images/hotel/max1024x768/215396834.jpg?k=6921192c6c7eaf48c495b8554752086a8729214e96d68f8b697f5204b0fa41c2&o=\",\"/xdata/images/hotel/max300/215396834.jpg?k=6921192c6c7eaf48c495b8554752086a8729214e96d68f8b697f5204b0fa41c2&o=\",\"/xdata/images/hotel/max500/215396834.jpg?k=6921192c6c7eaf48c495b8554752086a8729214e96d68f8b697f5204b0fa41c2&o=\",\"/xdata/images/hotel/square60/215396834.jpg?k=6921192c6c7eaf48c495b8554752086a8729214e96d68f8b697f5204b0fa41c2&o=\"],[1,[],215400469,[],\"/xdata/images/hotel/max1024x768/215400469.jpg?k=a1b3ce054062c5c2705ff44c0ed5379e21fa181a7f429ad4eb8f053b36a1223f&o=\",\"/xdata/images/hotel/max300/215400469.jpg?k=a1b3ce054062c5c2705ff44c0ed5379e21fa181a7f429ad4eb8f053b36a1223f&o=\",\"/xdata/images/hotel/max500/215400469.jpg?k=a1b3ce054062c5c2705ff44c0ed5379e21fa181a7f429ad4eb8f053b36a1223f&o=\",\"/xdata/images/hotel/square60/215400469.jpg?k=a1b3ce054062c5c2705ff44c0ed5379e21fa181a7f429ad4eb8f053b36a1223f&o=\"],[1,[],215398644,[],\"/xdata/images/hotel/max1024x768/215398644.jpg?k=446b7616b69a71d21661f47804132a4b2baaabff1ac188d05ad0c93bd0094c03&o=\",\"/xdata/images/hotel/max300/215398644.jpg?k=446b7616b69a71d21661f47804132a4b2baaabff1ac188d05ad0c93bd0094c03&o=\",\"/xdata/images/hotel/max500/215398644.jpg?k=446b7616b69a71d21661f47804132a4b2baaabff1ac188d05ad0c93bd0094c03&o=\",\"/xdata/images/hotel/square60/215398644.jpg?k=446b7616b69a71d21661f47804132a4b2baaabff1ac188d05ad0c93bd0094c03&o=\"],[1,[],215400779,[],\"/xdata/images/hotel/max1024x768/215400779.jpg?k=bd1d2f97f5b5dd9b78852870f1bbeab2d0261e809643966ecb75f9efb568bbbb&o=\",\"/xdata/images/hotel/max300/215400779.jpg?k=bd1d2f97f5b5dd9b78852870f1bbeab2d0261e809643966ecb75f9efb568bbbb&o=\",\"/xdata/images/hotel/max500/215400779.jpg?k=bd1d2f97f5b5dd9b78852870f1bbeab2d0261e809643966ecb75f9efb568bbbb&o=\",\"/xdata/images/hotel/square60/215400779.jpg?k=bd1d2f97f5b5dd9b78852870f1bbeab2d0261e809643966ecb75f9efb568bbbb&o=\"],[1,[{\"tag_type\":\"ml_tags\",\"photo_id\":215400474,\"tag_id\":13,\"confidence\":97,\"tag_name\":\"Bed\"}],215400474,[],\"/xdata/images/hotel/max1024x768/215400474.jpg?k=7b5b499a0747dd412881d4fe6b0579a644d107ec8d3e740de3f1bb3840097f30&o=\",\"/xdata/images/hotel/max300/215400474.jpg?k=7b5b499a0747dd412881d4fe6b0579a644d107ec8d3e740de3f1bb3840097f30&o=\",\"/xdata/images/hotel/max500/215400474.jpg?k=7b5b499a0747dd412881d4fe6b0579a644d107ec8d3e740de3f1bb3840097f30&o=\",\"/xdata/images/hotel/square60/215400474.jpg?k=7b5b499a0747dd412881d4fe6b0579a644d107ec8d3e740de3f1bb3840097f30&o=\"],[1,[],215398660,[],\"/xdata/images/hotel/max1024x768/215398660.jpg?k=2cdb6c719a757a302c0ec779a3b8b29727861071fdae81e5c56c6a4437828918&o=\",\"/xdata/images/hotel/max300/215398660.jpg?k=2cdb6c719a757a302c0ec779a3b8b29727861071fdae81e5c56c6a4437828918&o=\",\"/xdata/images/hotel/max500/215398660.jpg?k=2cdb6c719a757a302c0ec779a3b8b29727861071fdae81e5c56c6a4437828918&o=\",\"/xdata/images/hotel/square60/215398660.jpg?k=2cdb6c719a757a302c0ec779a3b8b29727861071fdae81e5c56c6a4437828918&o=\"],[1,[],215398621,[],\"/xdata/images/hotel/max1024x768/215398621.jpg?k=48be372ccbc3a1f8ec41ef84387bb1373b2c0f8e9cdef1dcbfda9b4a734596b2&o=\",\"/xdata/images/hotel/max300/215398621.jpg?k=48be372ccbc3a1f8ec41ef84387bb1373b2c0f8e9cdef1dcbfda9b4a734596b2&o=\",\"/xdata/images/hotel/max500/215398621.jpg?k=48be372ccbc3a1f8ec41ef84387bb1373b2c0f8e9cdef1dcbfda9b4a734596b2&o=\",\"/xdata/images/hotel/square60/215398621.jpg?k=48be372ccbc3a1f8ec41ef84387bb1373b2c0f8e9cdef1dcbfda9b4a734596b2&o=\"],[1,[],215398640,[],\"/xdata/images/hotel/max1024x768/215398640.jpg?k=4c8cc8755622ad578f6eec867a077086e1fe077af8efad804edd6201f3ca291b&o=\",\"/xdata/images/hotel/max300/215398640.jpg?k=4c8cc8755622ad578f6eec867a077086e1fe077af8efad804edd6201f3ca291b&o=\",\"/xdata/images/hotel/max500/215398640.jpg?k=4c8cc8755622ad578f6eec867a077086e1fe077af8efad804edd6201f3ca291b&o=\",\"/xdata/images/hotel/square60/215398640.jpg?k=4c8cc8755622ad578f6eec867a077086e1fe077af8efad804edd6201f3ca291b&o=\"],[1,[],215398636,[],\"/xdata/images/hotel/max1024x768/215398636.jpg?k=572ed1ee5fc4efbbcf13630cf8c8cf76806c41afe9469b79859e36d354f9cf12&o=\",\"/xdata/images/hotel/max300/215398636.jpg?k=572ed1ee5fc4efbbcf13630cf8c8cf76806c41afe9469b79859e36d354f9cf12&o=\",\"/xdata/images/hotel/max500/215398636.jpg?k=572ed1ee5fc4efbbcf13630cf8c8cf76806c41afe9469b79859e36d354f9cf12&o=\",\"/xdata/images/hotel/square60/215398636.jpg?k=572ed1ee5fc4efbbcf13630cf8c8cf76806c41afe9469b79859e36d354f9cf12&o=\"],[1,[],221611231,[],\"/xdata/images/hotel/max1024x768/221611231.jpg?k=c2308ea6f8a34cd92b9043c1ba38bfaae5f0cefd400b851706af6247d81adeaf&o=\",\"/xdata/images/hotel/max300/221611231.jpg?k=c2308ea6f8a34cd92b9043c1ba38bfaae5f0cefd400b851706af6247d81adeaf&o=\",\"/xdata/images/hotel/max500/221611231.jpg?k=c2308ea6f8a34cd92b9043c1ba38bfaae5f0cefd400b851706af6247d81adeaf&o=\",\"/xdata/images/hotel/square60/221611231.jpg?k=c2308ea6f8a34cd92b9043c1ba38bfaae5f0cefd400b851706af6247d81adeaf&o=\"],[1,[{\"tag_name\":\"Bed\",\"photo_id\":215400464,\"tag_type\":\"ml_tags\",\"tag_id\":13,\"confidence\":96}],215400464,[],\"/xdata/images/hotel/max1024x768/215400464.jpg?k=10e34bb0b4b4a10f54339708be86716a601783dbb49ce4133f2966a2651729cc&o=\",\"/xdata/images/hotel/max300/215400464.jpg?k=10e34bb0b4b4a10f54339708be86716a601783dbb49ce4133f2966a2651729cc&o=\",\"/xdata/images/hotel/max500/215400464.jpg?k=10e34bb0b4b4a10f54339708be86716a601783dbb49ce4133f2966a2651729cc&o=\",\"/xdata/images/hotel/square60/215400464.jpg?k=10e34bb0b4b4a10f54339708be86716a601783dbb49ce4133f2966a2651729cc&o=\"],[1,[],215398633,[],\"/xdata/images/hotel/max1024x768/215398633.jpg?k=b708d1103d4e0e581a23491547ffdccb6b19eec995970b93fc41aafcb51361fb&o=\",\"/xdata/images/hotel/max300/215398633.jpg?k=b708d1103d4e0e581a23491547ffdccb6b19eec995970b93fc41aafcb51361fb&o=\",\"/xdata/images/hotel/max500/215398633.jpg?k=b708d1103d4e0e581a23491547ffdccb6b19eec995970b93fc41aafcb51361fb&o=\",\"/xdata/images/hotel/square60/215398633.jpg?k=b708d1103d4e0e581a23491547ffdccb6b19eec995970b93fc41aafcb51361fb&o=\"],[1,[],215398697,[],\"/xdata/images/hotel/max1024x768/215398697.jpg?k=113d5fc580a8c6b2c8e4758acda36ec9eff0707d71d3dbc5bdf350969fbaba82&o=\",\"/xdata/images/hotel/max300/215398697.jpg?k=113d5fc580a8c6b2c8e4758acda36ec9eff0707d71d3dbc5bdf350969fbaba82&o=\",\"/xdata/images/hotel/max500/215398697.jpg?k=113d5fc580a8c6b2c8e4758acda36ec9eff0707d71d3dbc5bdf350969fbaba82&o=\",\"/xdata/images/hotel/square60/215398697.jpg?k=113d5fc580a8c6b2c8e4758acda36ec9eff0707d71d3dbc5bdf350969fbaba82&o=\"],[1,[{\"tag_name\":\"Swimming Pool\",\"confidence\":93,\"tag_id\":20,\"tag_type\":\"ml_tags\",\"photo_id\":253610021},{\"tag_name\":\"Pool View\",\"confidence\":89,\"photo_id\":253610021,\"tag_type\":\"ml_tags\",\"tag_id\":33}],253610021,[],\"/xdata/images/hotel/max1024x768/253610021.jpg?k=88353a287560fd9ebf341ef6f2d94fa44d0696e473a9ac453e1a44eb65df2150&o=\",\"/xdata/images/hotel/max300/253610021.jpg?k=88353a287560fd9ebf341ef6f2d94fa44d0696e473a9ac453e1a44eb65df2150&o=\",\"/xdata/images/hotel/max500/253610021.jpg?k=88353a287560fd9ebf341ef6f2d94fa44d0696e473a9ac453e1a44eb65df2150&o=\",\"/xdata/images/hotel/square60/253610021.jpg?k=88353a287560fd9ebf341ef6f2d94fa44d0696e473a9ac453e1a44eb65df2150&o=\"],[1,[],260636614,[],\"/xdata/images/hotel/max1024x768/260636614.jpg?k=b9143c11b785161159db8c1cc3f2971ab0834ded2bc21f312cbe852adde697b7&o=\",\"/xdata/images/hotel/max300/260636614.jpg?k=b9143c11b785161159db8c1cc3f2971ab0834ded2bc21f312cbe852adde697b7&o=\",\"/xdata/images/hotel/max500/260636614.jpg?k=b9143c11b785161159db8c1cc3f2971ab0834ded2bc21f312cbe852adde697b7&o=\",\"/xdata/images/hotel/square60/260636614.jpg?k=b9143c11b785161159db8c1cc3f2971ab0834ded2bc21f312cbe852adde697b7&o=\"],[1,[{\"tag_name\":\"Swimming Pool\",\"tag_type\":\"ml_tags\",\"photo_id\":252897738,\"tag_id\":20,\"confidence\":97},{\"tag_name\":\"Property Building\",\"photo_id\":252897738,\"tag_type\":\"ml_tags\",\"tag_id\":19,\"confidence\":90}],252897738,[{\"id\":260,\"tag\":\"Swimming pool\"},{\"id\":1000000001,\"tag\":\"Property\"}],\"/xdata/images/hotel/max1024x768/252897738.jpg?k=7fa3dc0493bda8fd43d1bd7c14522f577bef956777b7dcfb4532dd813aa1a5f1&o=\",\"/xdata/images/hotel/max300/252897738.jpg?k=7fa3dc0493bda8fd43d1bd7c14522f577bef956777b7dcfb4532dd813aa1a5f1&o=\",\"/xdata/images/hotel/max500/252897738.jpg?k=7fa3dc0493bda8fd43d1bd7c14522f577bef956777b7dcfb4532dd813aa1a5f1&o=\",\"/xdata/images/hotel/square60/252897738.jpg?k=7fa3dc0493bda8fd43d1bd7c14522f577bef956777b7dcfb4532dd813aa1a5f1&o=\"],[1,[{\"tag_name\":\"Swimming Pool\",\"confidence\":99,\"tag_id\":20,\"photo_id\":252897385,\"tag_type\":\"ml_tags\"}],252897385,[{\"tag\":\"Swimming pool\",\"id\":260},{\"id\":1000000001,\"tag\":\"Property\"}],\"/xdata/images/hotel/max1024x768/252897385.jpg?k=35844be222a8f90c9d8dd4371043853acc7e01a15477b20c3abb88c66f69c1f7&o=\",\"/xdata/images/hotel/max300/252897385.jpg?k=35844be222a8f90c9d8dd4371043853acc7e01a15477b20c3abb88c66f69c1f7&o=\",\"/xdata/images/hotel/max500/252897385.jpg?k=35844be222a8f90c9d8dd4371043853acc7e01a15477b20c3abb88c66f69c1f7&o=\",\"/xdata/images/hotel/square60/252897385.jpg?k=35844be222a8f90c9d8dd4371043853acc7e01a15477b20c3abb88c66f69c1f7&o=\"],[1,[],222142205,[{\"tag\":\"Living room\",\"id\":159},{\"tag\":\"Property\",\"id\":1000000001}],\"/xdata/images/hotel/max1024x768/222142205.jpg?k=fa57b56f7a25e98580c167c64f355f28ffb0455580bcdc3e31284359df1f91cd&o=\",\"/xdata/images/hotel/max300/222142205.jpg?k=fa57b56f7a25e98580c167c64f355f28ffb0455580bcdc3e31284359df1f91cd&o=\",\"/xdata/images/hotel/max500/222142205.jpg?k=fa57b56f7a25e98580c167c64f355f28ffb0455580bcdc3e31284359df1f91cd&o=\",\"/xdata/images/hotel/square60/222142205.jpg?k=fa57b56f7a25e98580c167c64f355f28ffb0455580bcdc3e31284359df1f91cd&o=\"],[1,[{\"tag_name\":\"Swimming Pool\",\"tag_id\":20,\"tag_type\":\"ml_tags\",\"photo_id\":245787841,\"confidence\":94},{\"tag_id\":19,\"tag_type\":\"ml_tags\",\"photo_id\":245787841,\"confidence\":87,\"tag_name\":\"Property Building\"}],245787841,[],\"/xdata/images/hotel/max1024x768/245787841.jpg?k=c9b6fb9789c2b1d0550665c686ab8b6cc772ea91a409211acbf5bf3f711e3f49&o=\",\"/xdata/images/hotel/max300/245787841.jpg?k=c9b6fb9789c2b1d0550665c686ab8b6cc772ea91a409211acbf5bf3f711e3f49&o=\",\"/xdata/images/hotel/max500/245787841.jpg?k=c9b6fb9789c2b1d0550665c686ab8b6cc772ea91a409211acbf5bf3f711e3f49&o=\",\"/xdata/images/hotel/square60/245787841.jpg?k=c9b6fb9789c2b1d0550665c686ab8b6cc772ea91a409211acbf5bf3f711e3f49&o=\"],[1,[],245787843,[],\"/xdata/images/hotel/max1024x768/245787843.jpg?k=7239fbf409e9b182a8caaf26713e5560b149c6956c370cf38e9dd74f11a2f93e&o=\",\"/xdata/images/hotel/max300/245787843.jpg?k=7239fbf409e9b182a8caaf26713e5560b149c6956c370cf38e9dd74f11a2f93e&o=\",\"/xdata/images/hotel/max500/245787843.jpg?k=7239fbf409e9b182a8caaf26713e5560b149c6956c370cf38e9dd74f11a2f93e&o=\",\"/xdata/images/hotel/square60/245787843.jpg?k=7239fbf409e9b182a8caaf26713e5560b149c6956c370cf38e9dd74f11a2f93e&o=\"],[1,[{\"confidence\":88,\"tag_type\":\"ml_tags\",\"photo_id\":245283726,\"tag_id\":33,\"tag_name\":\"Pool View\"}],245283726,[],\"/xdata/images/hotel/max1024x768/245283726.jpg?k=6d3061702c1d856b1ebf431e5d81de1ad39b42a6c3303fc6b2c7ce7b2b45a282&o=\",\"/xdata/images/hotel/max300/245283726.jpg?k=6d3061702c1d856b1ebf431e5d81de1ad39b42a6c3303fc6b2c7ce7b2b45a282&o=\",\"/xdata/images/hotel/max500/245283726.jpg?k=6d3061702c1d856b1ebf431e5d81de1ad39b42a6c3303fc6b2c7ce7b2b45a282&o=\",\"/xdata/images/hotel/square60/245283726.jpg?k=6d3061702c1d856b1ebf431e5d81de1ad39b42a6c3303fc6b2c7ce7b2b45a282&o=\"],[1,[{\"tag_name\":\"Food\",\"tag_id\":58,\"tag_type\":\"ml_tags\",\"photo_id\":223253042,\"confidence\":85}],223253042,[],\"/xdata/images/hotel/max1024x768/223253042.jpg?k=bbec36cf170eea868a61d26408c270bfd72373e1385e5177db72c6b8f7b27b24&o=\",\"/xdata/images/hotel/max300/223253042.jpg?k=bbec36cf170eea868a61d26408c270bfd72373e1385e5177db72c6b8f7b27b24&o=\",\"/xdata/images/hotel/max500/223253042.jpg?k=bbec36cf170eea868a61d26408c270bfd72373e1385e5177db72c6b8f7b27b24&o=\",\"/xdata/images/hotel/square60/223253042.jpg?k=bbec36cf170eea868a61d26408c270bfd72373e1385e5177db72c6b8f7b27b24&o=\"],[1,[{\"confidence\":98,\"photo_id\":215398683,\"tag_type\":\"ml_tags\",\"tag_id\":19,\"tag_name\":\"Property Building\"}],215398683,[],\"/xdata/images/hotel/max1024x768/215398683.jpg?k=3c942db7a4018c784c94c0e4d164c624d8c1d498b81e35923a7c689391d1ee01&o=\",\"/xdata/images/hotel/max300/215398683.jpg?k=3c942db7a4018c784c94c0e4d164c624d8c1d498b81e35923a7c689391d1ee01&o=\",\"/xdata/images/hotel/max500/215398683.jpg?k=3c942db7a4018c784c94c0e4d164c624d8c1d498b81e35923a7c689391d1ee01&o=\",\"/xdata/images/hotel/square60/215398683.jpg?k=3c942db7a4018c784c94c0e4d164c624d8c1d498b81e35923a7c689391d1ee01&o=\"],[1,[],223253406,[],\"/xdata/images/hotel/max1024x768/223253406.jpg?k=e6ad83f799c114e44808ed889bcbdeb6ac10a1f994d54649b131da23ac4a2da5&o=\",\"/xdata/images/hotel/max300/223253406.jpg?k=e6ad83f799c114e44808ed889bcbdeb6ac10a1f994d54649b131da23ac4a2da5&o=\",\"/xdata/images/hotel/max500/223253406.jpg?k=e6ad83f799c114e44808ed889bcbdeb6ac10a1f994d54649b131da23ac4a2da5&o=\",\"/xdata/images/hotel/square60/223253406.jpg?k=e6ad83f799c114e44808ed889bcbdeb6ac10a1f994d54649b131da23ac4a2da5&o=\"],[1,[],215398701,[],\"/xdata/images/hotel/max1024x768/215398701.jpg?k=bf7d70b199119dffcd95c25e1045b4e5444aa0b12f584f7cbd45b47b0691ce5a&o=\",\"/xdata/images/hotel/max300/215398701.jpg?k=bf7d70b199119dffcd95c25e1045b4e5444aa0b12f584f7cbd45b47b0691ce5a&o=\",\"/xdata/images/hotel/max500/215398701.jpg?k=bf7d70b199119dffcd95c25e1045b4e5444aa0b12f584f7cbd45b47b0691ce5a&o=\",\"/xdata/images/hotel/square60/215398701.jpg?k=bf7d70b199119dffcd95c25e1045b4e5444aa0b12f584f7cbd45b47b0691ce5a&o=\"],[1,[],215564133,[{\"tag\":\"Garden\",\"id\":103},{\"id\":1000000001,\"tag\":\"Property\"}],\"/xdata/images/hotel/max1024x768/215564133.jpg?k=1661be0c430ba07ceadb64b6cdf297a2dca3f18ebf8936731082a0fbd67c09fd&o=\",\"/xdata/images/hotel/max300/215564133.jpg?k=1661be0c430ba07ceadb64b6cdf297a2dca3f18ebf8936731082a0fbd67c09fd&o=\",\"/xdata/images/hotel/max500/215564133.jpg?k=1661be0c430ba07ceadb64b6cdf297a2dca3f18ebf8936731082a0fbd67c09fd&o=\",\"/xdata/images/hotel/square60/215564133.jpg?k=1661be0c430ba07ceadb64b6cdf297a2dca3f18ebf8936731082a0fbd67c09fd&o=\"],[1,[{\"tag_name\":\"Restaurant/Places to Eat\",\"tag_id\":2,\"photo_id\":215398647,\"tag_type\":\"ml_tags\",\"confidence\":100},{\"tag_name\":\"Lounge/Bar\",\"confidence\":95,\"tag_id\":4,\"photo_id\":215398647,\"tag_type\":\"ml_tags\"}],215398647,[{\"id\":7,\"tag\":\"Restaurant/places to eat\"},{\"tag\":\"Dining area\",\"id\":184},{\"tag\":\"Property\",\"id\":1000000001}],\"/xdata/images/hotel/max1024x768/215398647.jpg?k=d5e8e3621a0a90fde877378eca87bac87d2ecb230b1baee51b4f8fd94229c914&o=\",\"/xdata/images/hotel/max300/215398647.jpg?k=d5e8e3621a0a90fde877378eca87bac87d2ecb230b1baee51b4f8fd94229c914&o=\",\"/xdata/images/hotel/max500/215398647.jpg?k=d5e8e3621a0a90fde877378eca87bac87d2ecb230b1baee51b4f8fd94229c914&o=\",\"/xdata/images/hotel/square60/215398647.jpg?k=d5e8e3621a0a90fde877378eca87bac87d2ecb230b1baee51b4f8fd94229c914&o=\"],[1,[],215564117,[{\"tag\":\"Breakfast\",\"id\":264},{\"id\":1000000001,\"tag\":\"Property\"}],\"/xdata/images/hotel/max1024x768/215564117.jpg?k=d1b8c47bcbff21c5f7c4bba2da1ee74a03a31e4f5f362e54a24408e0bf653f15&o=\",\"/xdata/images/hotel/max300/215564117.jpg?k=d1b8c47bcbff21c5f7c4bba2da1ee74a03a31e4f5f362e54a24408e0bf653f15&o=\",\"/xdata/images/hotel/max500/215564117.jpg?k=d1b8c47bcbff21c5f7c4bba2da1ee74a03a31e4f5f362e54a24408e0bf653f15&o=\",\"/xdata/images/hotel/square60/215564117.jpg?k=d1b8c47bcbff21c5f7c4bba2da1ee74a03a31e4f5f362e54a24408e0bf653f15&o=\"],[1,[],215398677,[],\"/xdata/images/hotel/max1024x768/215398677.jpg?k=db82df7add17cc2b86c74e4137bfe36d99543a8b3818b83ff521f398ac509ea3&o=\",\"/xdata/images/hotel/max300/215398677.jpg?k=db82df7add17cc2b86c74e4137bfe36d99543a8b3818b83ff521f398ac509ea3&o=\",\"/xdata/images/hotel/max500/215398677.jpg?k=db82df7add17cc2b86c74e4137bfe36d99543a8b3818b83ff521f398ac509ea3&o=\",\"/xdata/images/hotel/square60/215398677.jpg?k=db82df7add17cc2b86c74e4137bfe36d99543a8b3818b83ff521f398ac509ea3&o=\"],[1,[],215564068,[{\"id\":264,\"tag\":\"Breakfast\"},{\"tag\":\"Property\",\"id\":1000000001}],\"/xdata/images/hotel/max1024x768/215564068.jpg?k=c13b0c477542ed9ee4930122208c710cfcd9a0dc7ef82ab684afbfba7a2c2c98&o=\",\"/xdata/images/hotel/max300/215564068.jpg?k=c13b0c477542ed9ee4930122208c710cfcd9a0dc7ef82ab684afbfba7a2c2c98&o=\",\"/xdata/images/hotel/max500/215564068.jpg?k=c13b0c477542ed9ee4930122208c710cfcd9a0dc7ef82ab684afbfba7a2c2c98&o=\",\"/xdata/images/hotel/square60/215564068.jpg?k=c13b0c477542ed9ee4930122208c710cfcd9a0dc7ef82ab684afbfba7a2c2c98&o=\"],[1,[{\"tag_name\":\"Restaurant/Places to Eat\",\"confidence\":96,\"photo_id\":215564076,\"tag_type\":\"ml_tags\",\"tag_id\":2}],215564076,[{\"id\":7,\"tag\":\"Restaurant/places to eat\"},{\"tag\":\"Food\",\"id\":242},{\"tag\":\"Breakfast\",\"id\":264},{\"id\":266,\"tag\":\"Buffet breakfast\"},{\"tag\":\"Property\",\"id\":1000000001}],\"/xdata/images/hotel/max1024x768/215564076.jpg?k=e3b1706933bee767446ac20b9d555955124de09468c1b47879da7dc91adeab08&o=\",\"/xdata/images/hotel/max300/215564076.jpg?k=e3b1706933bee767446ac20b9d555955124de09468c1b47879da7dc91adeab08&o=\",\"/xdata/images/hotel/max500/215564076.jpg?k=e3b1706933bee767446ac20b9d555955124de09468c1b47879da7dc91adeab08&o=\",\"/xdata/images/hotel/square60/215564076.jpg?k=e3b1706933bee767446ac20b9d555955124de09468c1b47879da7dc91adeab08&o=\"],[1,[{\"tag_name\":\"Bed\",\"tag_type\":\"ml_tags\",\"photo_id\":215400768,\"tag_id\":13,\"confidence\":97}],215400768,[],\"/xdata/images/hotel/max1024x768/215400768.jpg?k=648316544b667624e30ed4d30df901bf75f0765edf19db286fa602497a2ec8a0&o=\",\"/xdata/images/hotel/max300/215400768.jpg?k=648316544b667624e30ed4d30df901bf75f0765edf19db286fa602497a2ec8a0&o=\",\"/xdata/images/hotel/max500/215400768.jpg?k=648316544b667624e30ed4d30df901bf75f0765edf19db286fa602497a2ec8a0&o=\",\"/xdata/images/hotel/square60/215400768.jpg?k=648316544b667624e30ed4d30df901bf75f0765edf19db286fa602497a2ec8a0&o=\"],[1,[{\"tag_name\":\"Bathroom\",\"tag_type\":\"ml_tags\",\"photo_id\":215398604,\"tag_id\":11,\"confidence\":95},{\"tag_id\":12,\"photo_id\":215398604,\"tag_type\":\"ml_tags\",\"confidence\":94,\"tag_name\":\"TV/Entertainment Center\"}],215398604,[],\"/xdata/images/hotel/max1024x768/215398604.jpg?k=0bcfa331fd041501363214a0edafe1f0d305e46632ead6a89500994626ba48ec&o=\",\"/xdata/images/hotel/max300/215398604.jpg?k=0bcfa331fd041501363214a0edafe1f0d305e46632ead6a89500994626ba48ec&o=\",\"/xdata/images/hotel/max500/215398604.jpg?k=0bcfa331fd041501363214a0edafe1f0d305e46632ead6a89500994626ba48ec&o=\",\"/xdata/images/hotel/square60/215398604.jpg?k=0bcfa331fd041501363214a0edafe1f0d305e46632ead6a89500994626ba48ec&o=\"],[1,[],215400771,[],\"/xdata/images/hotel/max1024x768/215400771.jpg?k=c861c23cb7469d7794bdb739f81f35038cdc50ed9d493e40e1fc5fa8f907c2d1&o=\",\"/xdata/images/hotel/max300/215400771.jpg?k=c861c23cb7469d7794bdb739f81f35038cdc50ed9d493e40e1fc5fa8f907c2d1&o=\",\"/xdata/images/hotel/max500/215400771.jpg?k=c861c23cb7469d7794bdb739f81f35038cdc50ed9d493e40e1fc5fa8f907c2d1&o=\",\"/xdata/images/hotel/square60/215400771.jpg?k=c861c23cb7469d7794bdb739f81f35038cdc50ed9d493e40e1fc5fa8f907c2d1&o=\"],[1,[],215400775,[],\"/xdata/images/hotel/max1024x768/215400775.jpg?k=83ed3d561f7dfc97474bb4769df6e18cb48a721bf89fce0d39bf4f29f3ef7688&o=\",\"/xdata/images/hotel/max300/215400775.jpg?k=83ed3d561f7dfc97474bb4769df6e18cb48a721bf89fce0d39bf4f29f3ef7688&o=\",\"/xdata/images/hotel/max500/215400775.jpg?k=83ed3d561f7dfc97474bb4769df6e18cb48a721bf89fce0d39bf4f29f3ef7688&o=\",\"/xdata/images/hotel/square60/215400775.jpg?k=83ed3d561f7dfc97474bb4769df6e18cb48a721bf89fce0d39bf4f29f3ef7688&o=\"],[1,[],215398623,[],\"/xdata/images/hotel/max1024x768/215398623.jpg?k=576b503865fb71adea06575a57972daf2e07c552d0af770fb0c1228a73599193&o=\",\"/xdata/images/hotel/max300/215398623.jpg?k=576b503865fb71adea06575a57972daf2e07c552d0af770fb0c1228a73599193&o=\",\"/xdata/images/hotel/max500/215398623.jpg?k=576b503865fb71adea06575a57972daf2e07c552d0af770fb0c1228a73599193&o=\",\"/xdata/images/hotel/square60/215398623.jpg?k=576b503865fb71adea06575a57972daf2e07c552d0af770fb0c1228a73599193&o=\"],[1,[{\"tag_id\":11,\"photo_id\":215400455,\"tag_type\":\"ml_tags\",\"confidence\":97,\"tag_name\":\"Bathroom\"}],215400455,[],\"/xdata/images/hotel/max1024x768/215400455.jpg?k=77d3a1662c7466b43682289da339359ee8c342ed40df57de813a9b06a393660e&o=\",\"/xdata/images/hotel/max300/215400455.jpg?k=77d3a1662c7466b43682289da339359ee8c342ed40df57de813a9b06a393660e&o=\",\"/xdata/images/hotel/max500/215400455.jpg?k=77d3a1662c7466b43682289da339359ee8c342ed40df57de813a9b06a393660e&o=\",\"/xdata/images/hotel/square60/215400455.jpg?k=77d3a1662c7466b43682289da339359ee8c342ed40df57de813a9b06a393660e&o=\"],[1,[{\"tag_name\":\"Bathroom\",\"photo_id\":215400461,\"tag_type\":\"ml_tags\",\"tag_id\":11,\"confidence\":99}],215400461,[],\"/xdata/images/hotel/max1024x768/215400461.jpg?k=9b0bce0369c789c3e0985025f76d3331700bcfe2f774fad0c7f249f7d6b6a5db&o=\",\"/xdata/images/hotel/max300/215400461.jpg?k=9b0bce0369c789c3e0985025f76d3331700bcfe2f774fad0c7f249f7d6b6a5db&o=\",\"/xdata/images/hotel/max500/215400461.jpg?k=9b0bce0369c789c3e0985025f76d3331700bcfe2f774fad0c7f249f7d6b6a5db&o=\",\"/xdata/images/hotel/square60/215400461.jpg?k=9b0bce0369c789c3e0985025f76d3331700bcfe2f774fad0c7f249f7d6b6a5db&o=\"],[1,[{\"photo_id\":215400718,\"tag_type\":\"ml_tags\",\"tag_id\":11,\"confidence\":100,\"tag_name\":\"Bathroom\"}],215400718,[],\"/xdata/images/hotel/max1024x768/215400718.jpg?k=cfcd0a7621ae0db7669ef24f30eb9860b50b8c8925d368acef2c4ddffbe789d6&o=\",\"/xdata/images/hotel/max300/215400718.jpg?k=cfcd0a7621ae0db7669ef24f30eb9860b50b8c8925d368acef2c4ddffbe789d6&o=\",\"/xdata/images/hotel/max500/215400718.jpg?k=cfcd0a7621ae0db7669ef24f30eb9860b50b8c8925d368acef2c4ddffbe789d6&o=\",\"/xdata/images/hotel/square60/215400718.jpg?k=cfcd0a7621ae0db7669ef24f30eb9860b50b8c8925d368acef2c4ddffbe789d6&o=\"],[1,[{\"photo_id\":215398611,\"tag_type\":\"ml_tags\",\"tag_id\":11,\"confidence\":100,\"tag_name\":\"Bathroom\"}],215398611,[],\"/xdata/images/hotel/max1024x768/215398611.jpg?k=7da1c5a4327adc7204a1678f76eef0eca8a978a95c087e278c33811ff03e4af0&o=\",\"/xdata/images/hotel/max300/215398611.jpg?k=7da1c5a4327adc7204a1678f76eef0eca8a978a95c087e278c33811ff03e4af0&o=\",\"/xdata/images/hotel/max500/215398611.jpg?k=7da1c5a4327adc7204a1678f76eef0eca8a978a95c087e278c33811ff03e4af0&o=\",\"/xdata/images/hotel/square60/215398611.jpg?k=7da1c5a4327adc7204a1678f76eef0eca8a978a95c087e278c33811ff03e4af0&o=\"],[1,[{\"tag_id\":58,\"photo_id\":215564073,\"tag_type\":\"ml_tags\",\"confidence\":100,\"tag_name\":\"Food\"}],215564073,[{\"tag\":\"Breakfast\",\"id\":264},{\"id\":1000000001,\"tag\":\"Property\"}],\"/xdata/images/hotel/max1024x768/215564073.jpg?k=de3fef753afa41233b8eb303abc93337d64edc4d23f7cb7677faddd9d7054d79&o=\",\"/xdata/images/hotel/max300/215564073.jpg?k=de3fef753afa41233b8eb303abc93337d64edc4d23f7cb7677faddd9d7054d79&o=\",\"/xdata/images/hotel/max500/215564073.jpg?k=de3fef753afa41233b8eb303abc93337d64edc4d23f7cb7677faddd9d7054d79&o=\",\"/xdata/images/hotel/square60/215564073.jpg?k=de3fef753afa41233b8eb303abc93337d64edc4d23f7cb7677faddd9d7054d79&o=\"],[1,[{\"tag_id\":11,\"photo_id\":215398607,\"tag_type\":\"ml_tags\",\"confidence\":100,\"tag_name\":\"Bathroom\"}],215398607,[],\"/xdata/images/hotel/max1024x768/215398607.jpg?k=e74cbf0800f380edb346cca3292d39b5b55b92fd10a78a2ac88093d7ff8d3268&o=\",\"/xdata/images/hotel/max300/215398607.jpg?k=e74cbf0800f380edb346cca3292d39b5b55b92fd10a78a2ac88093d7ff8d3268&o=\",\"/xdata/images/hotel/max500/215398607.jpg?k=e74cbf0800f380edb346cca3292d39b5b55b92fd10a78a2ac88093d7ff8d3268&o=\",\"/xdata/images/hotel/square60/215398607.jpg?k=e74cbf0800f380edb346cca3292d39b5b55b92fd10a78a2ac88093d7ff8d3268&o=\"],[1,[],215564071,[{\"id\":242,\"tag\":\"Food\"},{\"id\":264,\"tag\":\"Breakfast\"},{\"tag\":\"Buffet breakfast\",\"id\":266},{\"tag\":\"Property\",\"id\":1000000001}],\"/xdata/images/hotel/max1024x768/215564071.jpg?k=86fa522ddfd5fa1517d151e83e9cd84ea7c92b0c58fae0ef9be8d1acc73fb96d&o=\",\"/xdata/images/hotel/max300/215564071.jpg?k=86fa522ddfd5fa1517d151e83e9cd84ea7c92b0c58fae0ef9be8d1acc73fb96d&o=\",\"/xdata/images/hotel/max500/215564071.jpg?k=86fa522ddfd5fa1517d151e83e9cd84ea7c92b0c58fae0ef9be8d1acc73fb96d&o=\",\"/xdata/images/hotel/square60/215564071.jpg?k=86fa522ddfd5fa1517d151e83e9cd84ea7c92b0c58fae0ef9be8d1acc73fb96d&o=\"],[1,[{\"confidence\":99,\"tag_id\":11,\"photo_id\":215398609,\"tag_type\":\"ml_tags\",\"tag_name\":\"Bathroom\"}],215398609,[],\"/xdata/images/hotel/max1024x768/215398609.jpg?k=783ce26f28e19e4da06f67fc3a82dc3076b76c6a0afaf04095060bb66a5d90ad&o=\",\"/xdata/images/hotel/max300/215398609.jpg?k=783ce26f28e19e4da06f67fc3a82dc3076b76c6a0afaf04095060bb66a5d90ad&o=\",\"/xdata/images/hotel/max500/215398609.jpg?k=783ce26f28e19e4da06f67fc3a82dc3076b76c6a0afaf04095060bb66a5d90ad&o=\",\"/xdata/images/hotel/square60/215398609.jpg?k=783ce26f28e19e4da06f67fc3a82dc3076b76c6a0afaf04095060bb66a5d90ad&o=\"],[1,[{\"tag_name\":\"Bed\",\"tag_id\":13,\"photo_id\":215398625,\"tag_type\":\"ml_tags\",\"confidence\":96},{\"tag_name\":\"TV/Entertainment Center\",\"confidence\":85,\"tag_id\":12,\"photo_id\":215398625,\"tag_type\":\"ml_tags\"}],215398625,[],\"/xdata/images/hotel/max1024x768/215398625.jpg?k=42fab19dd75cb3db7eede954d19910b6bb36d5c7c255a478238765ca0553f1a1&o=\",\"/xdata/images/hotel/max300/215398625.jpg?k=42fab19dd75cb3db7eede954d19910b6bb36d5c7c255a478238765ca0553f1a1&o=\",\"/xdata/images/hotel/max500/215398625.jpg?k=42fab19dd75cb3db7eede954d19910b6bb36d5c7c255a478238765ca0553f1a1&o=\",\"/xdata/images/hotel/square60/215398625.jpg?k=42fab19dd75cb3db7eede954d19910b6bb36d5c7c255a478238765ca0553f1a1&o=\"],[1,[],215398627,[],\"/xdata/images/hotel/max1024x768/215398627.jpg?k=dc7200c32019b095cbad790dd588b0dac9ea2f15136bc1f1763111dd78a33b07&o=\",\"/xdata/images/hotel/max300/215398627.jpg?k=dc7200c32019b095cbad790dd588b0dac9ea2f15136bc1f1763111dd78a33b07&o=\",\"/xdata/images/hotel/max500/215398627.jpg?k=dc7200c32019b095cbad790dd588b0dac9ea2f15136bc1f1763111dd78a33b07&o=\",\"/xdata/images/hotel/square60/215398627.jpg?k=dc7200c32019b095cbad790dd588b0dac9ea2f15136bc1f1763111dd78a33b07&o=\"],[1,[{\"confidence\":97,\"photo_id\":215398630,\"tag_type\":\"ml_tags\",\"tag_id\":6,\"tag_name\":\"Kitchen/Kitchenette\"}],215398630,[],\"/xdata/images/hotel/max1024x768/215398630.jpg?k=f40b8b4b920f1048b9633cc097d64d404d5cdff9871dd625d01ce7be4a231b1d&o=\",\"/xdata/images/hotel/max300/215398630.jpg?k=f40b8b4b920f1048b9633cc097d64d404d5cdff9871dd625d01ce7be4a231b1d&o=\",\"/xdata/images/hotel/max500/215398630.jpg?k=f40b8b4b920f1048b9633cc097d64d404d5cdff9871dd625d01ce7be4a231b1d&o=\",\"/xdata/images/hotel/square60/215398630.jpg?k=f40b8b4b920f1048b9633cc097d64d404d5cdff9871dd625d01ce7be4a231b1d&o=\"],[1,[],215398714,[],\"/xdata/images/hotel/max1024x768/215398714.jpg?k=f5ae9bfd351c3acf39cff22d106bc724299aa1f7f90ecb599cbff76f444309d5&o=\",\"/xdata/images/hotel/max300/215398714.jpg?k=f5ae9bfd351c3acf39cff22d106bc724299aa1f7f90ecb599cbff76f444309d5&o=\",\"/xdata/images/hotel/max500/215398714.jpg?k=f5ae9bfd351c3acf39cff22d106bc724299aa1f7f90ecb599cbff76f444309d5&o=\",\"/xdata/images/hotel/square60/215398714.jpg?k=f5ae9bfd351c3acf39cff22d106bc724299aa1f7f90ecb599cbff76f444309d5&o=\"],[1,[{\"confidence\":97,\"tag_id\":19,\"photo_id\":215398686,\"tag_type\":\"ml_tags\",\"tag_name\":\"Property Building\"},{\"tag_name\":\"Swimming Pool\",\"tag_id\":20,\"photo_id\":215398686,\"tag_type\":\"ml_tags\",\"confidence\":97}],215398686,[],\"/xdata/images/hotel/max1024x768/215398686.jpg?k=32fcb5ed1764a7922605aa44188f42ec6ea7d8931f4fbd4274d59b1d6045549b&o=\",\"/xdata/images/hotel/max300/215398686.jpg?k=32fcb5ed1764a7922605aa44188f42ec6ea7d8931f4fbd4274d59b1d6045549b&o=\",\"/xdata/images/hotel/max500/215398686.jpg?k=32fcb5ed1764a7922605aa44188f42ec6ea7d8931f4fbd4274d59b1d6045549b&o=\",\"/xdata/images/hotel/square60/215398686.jpg?k=32fcb5ed1764a7922605aa44188f42ec6ea7d8931f4fbd4274d59b1d6045549b&o=\"],[1,[{\"tag_name\":\"Restaurant/Places to Eat\",\"confidence\":100,\"tag_type\":\"ml_tags\",\"photo_id\":215398651,\"tag_id\":2}],215398651,[],\"/xdata/images/hotel/max1024x768/215398651.jpg?k=a4182fdb5664611289eae4a5945a4ba3de8a92f41ac1dfdf50abb2a3b7341372&o=\",\"/xdata/images/hotel/max300/215398651.jpg?k=a4182fdb5664611289eae4a5945a4ba3de8a92f41ac1dfdf50abb2a3b7341372&o=\",\"/xdata/images/hotel/max500/215398651.jpg?k=a4182fdb5664611289eae4a5945a4ba3de8a92f41ac1dfdf50abb2a3b7341372&o=\",\"/xdata/images/hotel/square60/215398651.jpg?k=a4182fdb5664611289eae4a5945a4ba3de8a92f41ac1dfdf50abb2a3b7341372&o=\"],[1,[{\"tag_name\":\"Swimming Pool\",\"tag_id\":20,\"photo_id\":215398699,\"tag_type\":\"ml_tags\",\"confidence\":97}],215398699,[],\"/xdata/images/hotel/max1024x768/215398699.jpg?k=bf66acee7de8becd248ac70d4540d6197be6052188d0ca0b6899b5c2bfe6e2bd&o=\",\"/xdata/images/hotel/max300/215398699.jpg?k=bf66acee7de8becd248ac70d4540d6197be6052188d0ca0b6899b5c2bfe6e2bd&o=\",\"/xdata/images/hotel/max500/215398699.jpg?k=bf66acee7de8becd248ac70d4540d6197be6052188d0ca0b6899b5c2bfe6e2bd&o=\",\"/xdata/images/hotel/square60/215398699.jpg?k=bf66acee7de8becd248ac70d4540d6197be6052188d0ca0b6899b5c2bfe6e2bd&o=\"],[1,[{\"photo_id\":215398704,\"tag_type\":\"ml_tags\",\"tag_id\":17,\"confidence\":85,\"tag_name\":\"Balcony/Terrace\"}],215398704,[],\"/xdata/images/hotel/max1024x768/215398704.jpg?k=b3f09c826690e3e481c65d671d9f41e85628869520fa4b1b3373c4c5451f51e0&o=\",\"/xdata/images/hotel/max300/215398704.jpg?k=b3f09c826690e3e481c65d671d9f41e85628869520fa4b1b3373c4c5451f51e0&o=\",\"/xdata/images/hotel/max500/215398704.jpg?k=b3f09c826690e3e481c65d671d9f41e85628869520fa4b1b3373c4c5451f51e0&o=\",\"/xdata/images/hotel/square60/215398704.jpg?k=b3f09c826690e3e481c65d671d9f41e85628869520fa4b1b3373c4c5451f51e0&o=\"],[1,[],215398690,[],\"/xdata/images/hotel/max1024x768/215398690.jpg?k=84272f5b67fbafce33ebfbfe79a541c595c48f9b09ca96644490ab3c9050e8a4&o=\",\"/xdata/images/hotel/max300/215398690.jpg?k=84272f5b67fbafce33ebfbfe79a541c595c48f9b09ca96644490ab3c9050e8a4&o=\",\"/xdata/images/hotel/max500/215398690.jpg?k=84272f5b67fbafce33ebfbfe79a541c595c48f9b09ca96644490ab3c9050e8a4&o=\",\"/xdata/images/hotel/square60/215398690.jpg?k=84272f5b67fbafce33ebfbfe79a541c595c48f9b09ca96644490ab3c9050e8a4&o=\"],[1,[],215398710,[],\"/xdata/images/hotel/max1024x768/215398710.jpg?k=8f4f77cf53ff4b5becb53aafed799aa394c0407e431b06463ccf640f0d584e18&o=\",\"/xdata/images/hotel/max300/215398710.jpg?k=8f4f77cf53ff4b5becb53aafed799aa394c0407e431b06463ccf640f0d584e18&o=\",\"/xdata/images/hotel/max500/215398710.jpg?k=8f4f77cf53ff4b5becb53aafed799aa394c0407e431b06463ccf640f0d584e18&o=\",\"/xdata/images/hotel/square60/215398710.jpg?k=8f4f77cf53ff4b5becb53aafed799aa394c0407e431b06463ccf640f0d584e18&o=\"],[1,[],215398656,[],\"/xdata/images/hotel/max1024x768/215398656.jpg?k=2b38f6b4bea51d5b43e173f950c4e6b9104afe79acd66f8ee3c3df8fb166af4c&o=\",\"/xdata/images/hotel/max300/215398656.jpg?k=2b38f6b4bea51d5b43e173f950c4e6b9104afe79acd66f8ee3c3df8fb166af4c&o=\",\"/xdata/images/hotel/max500/215398656.jpg?k=2b38f6b4bea51d5b43e173f950c4e6b9104afe79acd66f8ee3c3df8fb166af4c&o=\",\"/xdata/images/hotel/square60/215398656.jpg?k=2b38f6b4bea51d5b43e173f950c4e6b9104afe79acd66f8ee3c3df8fb166af4c&o=\"],[1,[],215398680,[],\"/xdata/images/hotel/max1024x768/215398680.jpg?k=fb26aecd86f6137fc20148736c92a79796b45137110e7c4c697682d8e96651cf&o=\",\"/xdata/images/hotel/max300/215398680.jpg?k=fb26aecd86f6137fc20148736c92a79796b45137110e7c4c697682d8e96651cf&o=\",\"/xdata/images/hotel/max500/215398680.jpg?k=fb26aecd86f6137fc20148736c92a79796b45137110e7c4c697682d8e96651cf&o=\",\"/xdata/images/hotel/square60/215398680.jpg?k=fb26aecd86f6137fc20148736c92a79796b45137110e7c4c697682d8e96651cf&o=\"],[1,[],364504209,[],\"/xdata/images/hotel/max1024x768/364504209.jpg?k=f97c9016f262c083a0d52cdc51bcfb4c3bddac9a42fee8c4da0a082a4ce53801&o=\",\"/xdata/images/hotel/max300/364504209.jpg?k=f97c9016f262c083a0d52cdc51bcfb4c3bddac9a42fee8c4da0a082a4ce53801&o=\",\"/xdata/images/hotel/max500/364504209.jpg?k=f97c9016f262c083a0d52cdc51bcfb4c3bddac9a42fee8c4da0a082a4ce53801&o=\",\"/xdata/images/hotel/square60/364504209.jpg?k=f97c9016f262c083a0d52cdc51bcfb4c3bddac9a42fee8c4da0a082a4ce53801&o=\"],[1,[],364504210,[],\"/xdata/images/hotel/max1024x768/364504210.jpg?k=a821de7805218d3004c3d39b9e8049bacc0a7d931042e582920e27d05127a21a&o=\",\"/xdata/images/hotel/max300/364504210.jpg?k=a821de7805218d3004c3d39b9e8049bacc0a7d931042e582920e27d05127a21a&o=\",\"/xdata/images/hotel/max500/364504210.jpg?k=a821de7805218d3004c3d39b9e8049bacc0a7d931042e582920e27d05127a21a&o=\",\"/xdata/images/hotel/square60/364504210.jpg?k=a821de7805218d3004c3d39b9e8049bacc0a7d931042e582920e27d05127a21a&o=\"],[1,[],364504208,[],\"/xdata/images/hotel/max1024x768/364504208.jpg?k=d39d5e2d750e740229e3df340e6ac0599623ca65e322a40956df338590a57d14&o=\",\"/xdata/images/hotel/max300/364504208.jpg?k=d39d5e2d750e740229e3df340e6ac0599623ca65e322a40956df338590a57d14&o=\",\"/xdata/images/hotel/max500/364504208.jpg?k=d39d5e2d750e740229e3df340e6ac0599623ca65e322a40956df338590a57d14&o=\",\"/xdata/images/hotel/square60/364504208.jpg?k=d39d5e2d750e740229e3df340e6ac0599623ca65e322a40956df338590a57d14&o=\"],[1,[],364504207,[],\"/xdata/images/hotel/max1024x768/364504207.jpg?k=ed54ddd47cda6eab0c802d751bd455b5a19f198710756a407a9f2577bd8f9fb6&o=\",\"/xdata/images/hotel/max300/364504207.jpg?k=ed54ddd47cda6eab0c802d751bd455b5a19f198710756a407a9f2577bd8f9fb6&o=\",\"/xdata/images/hotel/max500/364504207.jpg?k=ed54ddd47cda6eab0c802d751bd455b5a19f198710756a407a9f2577bd8f9fb6&o=\",\"/xdata/images/hotel/square60/364504207.jpg?k=ed54ddd47cda6eab0c802d751bd455b5a19f198710756a407a9f2577bd8f9fb6&o=\"]]},\"categories\":[],\"url_prefix\":\"https://cf.bstatic.com\"}\r\n";
            string[] photos = photoList.Split("\",\"/xdata");
            IEnumerable<string> enumerablePhotos = photos.Where(x => x.StartsWith("/images") && !x.Contains("\""));
            List<string> listPhotos = enumerablePhotos.ToList();

            HotelDescription description = _hotelService.GetHotelDescription();

            List<HotelViewModel> hotels = new List<HotelViewModel>();
            for (int i = 0; i < results.Count; i++)
            {
                HotelViewModel hotel = new HotelViewModel()
                {
                    Result = results[i],
                    Photo = "https://cf.bstatic.com" + "/xdata" + listPhotos[i],
                    Description = description.description
                };
                hotels.Add(hotel);
            }

            return View("Search", hotels);
        }

        public IActionResult OpenDetails(int id, string name, string photo, string description, double latitude, double longitude, string address)
        {
            List<HotelRooms> hotelRooms = _hotelService.GetAllRooms(id);


            HotelDetailViewModel hotelDetailViewModel = new HotelDetailViewModel()
            {
                HotelViewModel = new HotelViewModel()
                {
                    Result = new Result()
                    {
                        hotel_name = name,
                        latitude=latitude,
                        longitude=longitude,
                        address_trans=address
                    },
                    Description = description,
                    Photo = photo
                },
                Rooms = hotelRooms[0]
            };

            return View("Room", hotelDetailViewModel);
        }

        public IActionResult checkFlightOptions()
        {
            List<Itinerary> itineraries = _flightService.GetAvailableFlights();
            ViewBag.itineraries = itineraries;
            return View("Flights", itineraries);
        }
    }
}